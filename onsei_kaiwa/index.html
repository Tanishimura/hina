<!doctype html>
<html lang="ja">
	<head>
		<title>Sample01</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
		<!-- reset.css ress -->
		<!-- <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css" /> -->
		<link rel="stylesheet" href="css/style.css">
		<script src="js/jquery-3.5.1.min.js"></script>
	</head>

	<body>
		<h1>éŸ³å£°èªè­˜ãŠãŸã‚ã—</h1>

		<!-- ã‚¤ãƒ™ãƒ³ãƒˆèµ·å‹•ç”¨ã®ãƒœã‚¿ãƒ³ -->
		<button id="btn1">btn1</button>

		<!-- è¡¨ç¤ºæ“ä½œç”¨ã®div -->
		<div id="contena">éŸ³å£°èªè­˜ã ã‚ˆ<br></div>
		<div id="contena_ai">ãŠè¿”äº‹ã ã‚ˆ<br></div>

		
	<script src="js/script.js"></script>
	<script>
		SpeechRecognition = webkitSpeechRecognition || SpeechRecognition;
		const recognition = new SpeechRecognition();
		if ('SpeechRecognition' in window) {
			// ãƒ¦ãƒ¼ã‚¶ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°åˆæˆã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚
			console.log("ãƒ¦ãƒ¼ã‚¶ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°åˆæˆã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚");
		} else {
			// ãƒ¦ãƒ¼ã‚¶ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°åˆæˆã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚
			console.log("ãƒ¦ãƒ¼ã‚¶ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°åˆæˆã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚");
		}

		// recognition.interimResults = true; // é€”ä¸­ã§ã‚‚èªè­˜ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹è¨­å®š
		recognition.continuous = true;	// ãšã£ã¨èªè­˜ã•ã›ã‚‹

		recognition.onresult = (event) => {
			recog_word = event.results[event.results.length-1][0].transcript;
			console.log(recog_word);
			contena.innerHTML += recog_word;

			let ramdom_dotti = 0;

			// console.log(event.results[0].isFinal); // ç™ºè¨€ãŒçµ‚äº†ã—ãŸã‹ã©ã†ã‹ã€‚
			if(event.results[0].isFinal){
				contena.innerHTML += "<br>";

				if(recog_word.indexOf("ã“ã‚“ã«ã¡ã¯") !== -1){
					contena_ai.innerHTML = "ã¯ã„ï¼ã“ã‚“ã«ã¡ã¯ï¼";
				}
				if(recog_word.indexOf("ã“ã‚“ã°ã‚“ã¯") !== -1){
					contena_ai.innerHTML = "ã¯ã„ãƒ¼ï¼ã“ã‚“ã°ã‚“ã¯ã€‚";
				}
				if(recog_word.indexOf("çœ ã„") !== -1){
					contena_ai.innerHTML = "ã‚‚ã†é…ã„ã§ã™ã‹ã‚‰ã­ã€‚ãã‚ãã‚å¯ã¾ã—ã‚‡ã†ï¼Ÿ";
				}
				if(recog_word.indexOf("ã‚„ã ") !== -1){
					contena_ai.innerHTML = "ä½•ã‹å«Œãªã‚“ã§ã™ã‹ï¼Ÿç–²ã‚ŒãŸã‚‰å°‘ã—ãŠèŒ¶å…¥ã‚Œã¦ä¼‘æ†©ã—ã¾ã—ã‚‡ã†ã€‚";
				}
				if(recog_word.indexOf("ã©ã£ã¡") !== -1){
					ramdom_dotti = Math.floor(Math.random() * 2);
					if(ramdom_dotti == 1){
						contena_ai.innerHTML = "æœ€åˆã®ã«ã—ã¾ã—ã‚‡ã†ï¼";						
					}else{
						contena_ai.innerHTML = "å¾Œã®æ–¹ã«ã—ã¾ã—ã‚‡ã†ã€‚";
					}
				}
				if(recog_word.indexOf("ã‚„ã•ã—ã„") !== -1){
					contena_ai.innerHTML = "ãã‚“ãªã“ã¨ãªã„ã§ã™ã‚ˆã€‚ã§ã™ãŒã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚";
				}
				if(recog_word.indexOf("å„ªã—ã„") !== -1){
					contena_ai.innerHTML = "ãã‚“ãªã“ã¨ãªã„ã§ã™ã‚ˆã€‚ã§ã™ãŒã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚";
				}
				if(recog_word.indexOf("ç–²ã‚Œ") !== -1){
					contena_ai.innerHTML = "ä»Šæ—¥ã¯ã‚‚ã†ãŠä¼‘ã¿ã—ã¾ã—ã‚‡ã†ã€‚ä¼‘ã‚€å‹‡æ°—ï¼ã§ã™ã€‚";
				}
				if(recog_word.indexOf("ãŠã‚„ã™ã¿") !== -1){
					contena_ai.innerHTML = "ãŠã‚„ã™ã¿ãªã•ã„ãƒ¼(ã¤âˆ€-)";
				}
				if(recog_word.indexOf("çœ ã„") !== -1){
					contena_ai.innerHTML = "å¯ã‚‹å‹‡æ°—ã€ã§ã™ï¼";
				}
				if(recog_word.indexOf("å¥½ã") !== -1){
					contena_ai.innerHTML = "ç§ã‚‚å¤§å¥½ãã§ã™ã€‚ãã‚…ã€‚ï¼ˆgoogleHomeã®ãƒ‘ã‚¯ãƒªï¼‰";
				}
				if(recog_word.indexOf("ãŠã¯ã‚ˆã†") !== -1){
					contena_ai.innerHTML = "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚ä»Šæ—¥ã‚‚ã„ã„ã„ä¸€æ—¥ã«ãªã‚‹ã¨ã„ã„ã§ã™ã­";
				}
				if(recog_word.indexOf("ãˆã‚‰ã„") !== -1){
					contena_ai.innerHTML = "ãŠã»ã‚ã«é ã‹ã‚Šå…‰æ „ã§ã™ğŸ˜Š";
				}
				if(recog_word.indexOf("ã»ã‚ã¦") !== -1){
					contena_ai.innerHTML = "ãˆã‚‰ã„ãï½ï½ï¼";
				}
				if(recog_word.indexOf("è¤’ã‚ã¦") !== -1){
					contena_ai.innerHTML = "ãˆã‚‰ã„ãï½ï½ï¼";
				}
				if(recog_word.indexOf("çœ ã„") !== -1){
					contena_ai.innerHTML = "å¯ã‚‹å‹‡æ°—ã€ã§ã™ï¼";
				}
				if(recog_word.indexOf("çœ ã„") !== -1){
					contena_ai.innerHTML = "å¯ã‚‹å‹‡æ°—ã€ã§ã™ï¼";
				}
			}
		}
	  
		// recognition.addEventListener('result', (event) => { 
		// 	alert(event.results[0][0].transcript);
		// })

		recognition.start();
	  </script>
	</body>
</html>
